(this.webpackJsonpprojeto_09_cineflex_react=this.webpackJsonpprojeto_09_cineflex_react||[]).push([[0],{56:function(e,t,c){},57:function(e,t,c){},58:function(e,t,c){"use strict";c.r(t);var s=c(26),a=c.n(s),i=c(1),n=c(8),l=c(3),r=c(6),j=c(2),o=c.p+"static/media/back-arrow.f02d7d5f.svg",d=c(0);function b(){var e=Object(j.f)();return Object(d.jsx)(d.Fragment,{children:"/"!==window.location.pathname?Object(d.jsxs)("header",{className:"header",children:[Object(d.jsx)("p",{children:"CINEFLEX"}),Object(d.jsx)("img",{onClick:function(){e(-1)},src:o,alt:"back-arrow"})]}):Object(d.jsx)("header",{className:"header",children:Object(d.jsx)("p",{children:"CINEFLEX"})})})}var m=c(7),O=c.n(m),h=c.p+"static/media/loading.f4af70e5.svg";function x(){var e=Object(i.useState)([]),t=Object(l.a)(e,2),c=t[0],s=t[1];return Object(i.useEffect)((function(){O.a.get("https://mock-api.driven.com.br/api/v4/cineflex/movies").then((function(e){s(e.data)}))}),[]),0===c.length?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("img",{src:h}),Object(d.jsx)("h1",{children:"Carregando..."})]}):Object(d.jsxs)("main",{className:"movie-selection-page",children:[Object(d.jsx)("div",{className:"title-page",children:Object(d.jsx)("span",{className:"title",children:"Selecione o filme"})}),Object(d.jsx)("div",{className:"content",children:c.map((function(e){return Object(d.jsx)(r.b,{to:"/sections/".concat(e.id),children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("img",{src:e.posterURL,alt:e.title})})})}))})]})}function u(e){var t=e.confirmSend,c=Object(i.useState)(),s=Object(l.a)(c,2),a=s[0],n=s[1];return Object(i.useEffect)((function(){O.a.get("https://mock-api.driven.com.br/api/v4/cineflex/showtimes/".concat(t.sectionId,"/seats")).then((function(e){n(e.data)}))}),[t.sectionID]),void 0===a?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("img",{src:h}),Object(d.jsx)("h1",{children:"Carregando..."})]}):(t.cpf=t.cpf.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"),Object(d.jsxs)("main",{className:"receipt-page",children:[Object(d.jsx)("div",{className:"title-page",children:Object(d.jsxs)("span",{className:"title",children:["Pedido feito",Object(d.jsx)("br",{}),"com sucesso!"]})}),Object(d.jsxs)("div",{className:"content",children:[Object(d.jsxs)("div",{className:"movie-session",children:[Object(d.jsx)("div",{className:"title",children:"Filme e sess\xe3o"}),Object(d.jsx)("div",{className:"data",children:a.movie.title}),Object(d.jsxs)("div",{className:"data",children:[a.day.date," ",a.name]})]}),Object(d.jsxs)("div",{className:"tickets",children:[Object(d.jsx)("div",{className:"title",children:"Ingressos"}),t.ids.map((function(e){return Object(d.jsxs)("div",{className:"data",children:["Assento ",e%50===0?"50":e%50]})}))]}),Object(d.jsxs)("div",{className:"buyer",children:[Object(d.jsx)("div",{className:"title",children:"Comprador"}),Object(d.jsxs)("div",{className:"data",children:["Nome: ",t.name]}),Object(d.jsxs)("div",{className:"data",children:["CPF: ",t.cpf]})]})]}),Object(d.jsx)(r.b,{to:"/",children:Object(d.jsx)("div",{className:"home-button",children:Object(d.jsx)("button",{children:"Voltar para Home"})})})]}))}var v,p=c(27),f=c(32);function g(e){var t=e.src,c=e.alt,s=e.title,a=e.weekday,i=e.time;return Object(d.jsxs)("div",{className:"choosenMovie",children:[Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("img",{src:t,alt:c})}),Object(d.jsxs)("div",{className:"choosenMovieData",children:[Object(d.jsx)("span",{className:"choosenMovieName",children:s}),void 0!==a&&Object(d.jsxs)("span",{className:"choosenMovieTime",children:[a," - ",i]})]})]})}function N(e){var t=e.classSeat,c=e.name,s=e.id,a=e.handle,n=Object(i.useState)(t),r=Object(l.a)(n,2),j=r[0],o=r[1];return Object(d.jsx)("div",{className:j,onClick:function(){return e=j,void("circle available"===t?"circle selected"===e?(a(s,!1),o("circle available")):(a(s,!0),o("circle selected")):alert("Esse assento n\xe3o est\xe1 dispon\xedvel!"));var e},children:c})}function S(e){var t=e.confirmSend,c=Object(j.g)().idSection,s=Object(i.useState)(),a=Object(l.a)(s,2),o=a[0],b=a[1],m=Object(i.useState)({ids:[]}),x=Object(l.a)(m,2),u=x[0],v=x[1],p=Object(i.useState)(""),S=Object(l.a)(p,2),w=S[0],C=S[1],y=Object(i.useState)(""),F=Object(l.a)(y,2),E=F[0],D=F[1];if(Object(i.useEffect)((function(){O.a.get("https://mock-api.driven.com.br/api/v4/cineflex/showtimes/".concat(c,"/seats")).then((function(e){b(e.data)}))}),[c]),void 0===o)return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("img",{src:h}),Object(d.jsx)("h1",{children:"Carregando..."})]});var I=o.movie,M=o.day,_=o.name;function L(e,t){v(t?{ids:[].concat(Object(f.a)(u.ids),[e])}:{ids:u.ids.filter((function(t){return t!==e}))})}var P=0!==u.ids.length&&0!==w.length&&!(11!=E.length);return Object(d.jsxs)("main",{className:"seat-selection-page",children:[Object(d.jsx)("div",{className:"title-page",children:Object(d.jsx)("span",{className:"title",children:"Selecione o(s) assento(s)"})}),Object(d.jsxs)("div",{className:"seats",children:[Object(d.jsx)("div",{className:"seats-to-choose",children:o.seats.map((function(e){return!0===e.isAvailable?Object(d.jsx)(N,{classSeat:"circle available",name:e.name,id:e.id,handle:L}):Object(d.jsx)(N,{classSeat:"circle unavailable",name:e.name})}))}),Object(d.jsxs)("div",{className:"seat-subtitle",children:[Object(d.jsxs)("div",{className:"selected",children:[Object(d.jsx)("div",{className:"circle selected"}),"Selecionado"]}),Object(d.jsxs)("div",{className:"available",children:[Object(d.jsx)("div",{className:"circle available"}),"Dispon\xedvel"]}),Object(d.jsxs)("div",{className:"unavailable",children:[Object(d.jsx)("div",{className:"circle unavailable"}),"Indispon\xedvel"]})]})]}),Object(d.jsxs)("div",{className:"buyer-info",children:[Object(d.jsxs)("div",{className:"buyer-name",children:[Object(d.jsx)("span",{className:"name",children:"Nome do comprador:"}),Object(d.jsx)("input",{type:"text",className:"input-name",placeholder:"Digite seu nome...",onChange:function(e){C(e.target.value),v(Object(n.a)(Object(n.a)({},u),{},{name:e.target.value}))},value:w})]}),Object(d.jsxs)("div",{className:"buyer-cpf",children:[Object(d.jsx)("span",{className:"cpf",children:"CPF do comprador:"}),Object(d.jsx)("input",{type:"text",className:"input-cpf",placeholder:"Digite seu CPF...",onChange:function(e){D(e.target.value),v(Object(n.a)(Object(n.a)({},u),{},{cpf:e.target.value}))},value:E})]})]}),!0===P?Object(d.jsx)(r.b,{to:"/receipt",children:Object(d.jsx)(k,{isFilled:P,onClick:function(){return t(u,c,""),void O.a.post("https://mock-api.driven.com.br/api/v4/cineflex/seats/book-many",u)},children:"Reservar assento(s)"})}):Object(d.jsx)(r.b,{to:"#",children:Object(d.jsx)(k,{isFilled:P,onClick:function(){0===u.ids.length?alert("Selecione um assento para prosseguir!"):0===w.length?alert("Digite o seu nome completo para prosseguir!"):11!==E.length&&alert("Digite um CPF v\xe1lido com 11 n\xfameros!")},children:"Reservar assento(s)"})}),Object(d.jsx)(g,{src:I.posterURL,alt:I.title,title:I.title,weekday:M.weekday,time:_})]})}var k=c(28).a.button(v||(v=Object(p.a)(["\n    width: 225px;\n    height: 42px;\n\n    font-weight: 400;\n    font-size: 18px;\n    line-height: 21px;\n    letter-spacing: 0.04em;\n    color: #fff;\n\n    border-radius: 3px;\n    background-color: #e8833a;\n\n    margin: auto;\n    margin-top: 35px;\n\n    cursor: ",";\n    opacity: ",";\n"])),(function(e){return e.isFilled?"pointer":"not-allowed"}),(function(e){return e.isFilled?"1":"0.6"}));function w(){var e=Object(i.useState)([]),t=Object(l.a)(e,2),c=t[0],s=t[1],a=Object(j.g)().idMovie,n=c.days;return Object(i.useEffect)((function(){O.a.get("https://mock-api.driven.com.br/api/v4/cineflex/movies/".concat(a,"/showtimes")).then((function(e){s(e.data)}))}),[a]),0===c.length?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("img",{src:h}),Object(d.jsx)("h1",{children:"Carregando..."})]}):Object(d.jsxs)("main",{className:"time-selection-page",children:[Object(d.jsx)("div",{className:"title-page",children:Object(d.jsx)("span",{className:"title",children:"Selecione o hor\xe1rio"})}),Object(d.jsx)("div",{className:"content",children:Object(d.jsx)("div",{className:"container",children:n.map((function(e){return Object(d.jsxs)("div",{className:"date",children:[Object(d.jsxs)("h1",{children:[e.weekday," - ",e.date]}),Object(d.jsx)("div",{className:"hours",children:e.showtimes.map((function(e){return Object(d.jsx)(r.b,{to:"/seats/".concat(e.id),children:Object(d.jsx)("span",{className:"hours-box",children:e.name})})}))})]})}))})}),Object(d.jsx)(g,{src:c.posterURL,alt:c.title,title:c.title})]})}function C(){var e=Object(i.useState)({}),t=Object(l.a)(e,2),c=t[0],s=t[1];return Object(d.jsxs)(r.a,{children:[Object(d.jsx)(b,{}),Object(d.jsxs)(j.c,{children:[Object(d.jsx)(j.a,{path:"/",element:Object(d.jsx)(x,{})}),Object(d.jsx)(j.a,{path:"/sections/:idMovie",element:Object(d.jsx)(w,{})}),Object(d.jsx)(j.a,{path:"/seats/:idSection",element:Object(d.jsx)(S,{confirmSend:function(e,t,c){s(Object(n.a)(Object(n.a)({},e),{},{sectionId:t}))}})}),Object(d.jsx)(j.a,{path:"/receipt",element:Object(d.jsx)(u,{confirmSend:c})})]})]})}c(56),c(57);var y=document.querySelector(".root");a.a.render(Object(d.jsx)(C,{}),y)}},[[58,1,2]]]);
//# sourceMappingURL=main.e20295af.chunk.js.map